@startuml
' Modelo de domínio combinado (classes de análise - atributos e associações)

enum TipoVisualizacao3D {
    IMAGEM_3D
    VIDEO_3D
    NAO_APLICAVEL
}

abstract class Usuario {
    id: Integer
    nome: String
    email: String
    senha: String
    telefone: String
    perfil: String
    cpf: String
    dataNascimento: Date 
}

class Medico {
    crm: String
    especialidade: String 
}

class Paciente { 
    ' Herda atributos de Usuario
}

class Consulta {
    id: Integer
    dataHora: DateTime
    status: String
    tipoConsulta: String  ' Presencial ou Virtual
    duracao: Integer      ' Em minutos
}

class DocumentoMedico {
    idDocumento: Integer
    nomeArquivo: String
    tipoArquivo: String
    dataUpload: Date
    descricao: String     ' Descrição do documento/exame
    tipoVisualizacao: TipoVisualizacao3D ' Indica se é 3D e qual tipo, ou não aplicável
}

class Ambiente3D {
    id: Integer
    descricao: String
    tipoAmbiente: String  ' Tipo de sala virtual
    recursos: String[]    ' Recursos disponíveis no ambiente
}

class AnotacaoMedica {
    id: Integer
    texto: String
    dataHoraCriacao: LocalDateTime
    dataHoraUltimaEdicao: LocalDateTime
}

class Mensagem {
    id: Integer
    texto: String
    dataHoraEnvio: LocalDateTime
    lida: Boolean         ' Indica se a mensagem foi lida
}

class SessaoVirtual {
    id: Integer
    dataHoraInicio: DateTime
    dataHoraFim: DateTime
    status: String        ' Em andamento, finalizada, etc.
    linkAcesso: String    ' Link para acesso à sala virtual
}

' Herança 
Usuario <|-- Medico 
Usuario <|-- Paciente

' Associações 
Medico "1" -- "0..*" Consulta : realiza
Paciente "1" -- "0..*" Consulta : participa
Consulta "1" -- "1" Ambiente3D : acontece em >
Consulta "1" -- "0..1" SessaoVirtual : utiliza >
Paciente "1" -- "0..*" DocumentoMedico : envia
DocumentoMedico "0..*" -- "1" Consulta : associado a >
Medico "1" -- "0..*" AnotacaoMedica : cria
AnotacaoMedica "0..*" -- "1" Consulta : pertence a >
AnotacaoMedica "0..*" -- "1" Paciente : sobre >
Mensagem "0..*" -- "1" Usuario : enviada por >
Mensagem "0..*" -- "1" Usuario : recebida por >
Consulta "1" -- "0..*" Mensagem : contém >
@enduml
